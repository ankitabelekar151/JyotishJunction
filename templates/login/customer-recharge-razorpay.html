{% extends 'customer_base.html' %}   {% block content %}



{% load static %}


<!DOCTYPE html>
<html lang="en">
	<head>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
		<title>Guruji Speaks</title>
		
		<!-- Favicon -->
		<link rel="shortcut icon" href="{% static 'assets/img/GrujiSpeaks-img/logo-2.png' %}" type="image/x-icon">
		
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
				
		<!-- Fontawesome CSS -->
		<link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/fontawesome.min.css' %}">
		<link rel="stylesheet" href="{% static 'assets/plugins/fontawesome/css/all.min.css' %}">

		<!-- Feathericon CSS -->
    	<link rel="stylesheet" href="{% static 'assets/css/feather.css' %}">
		
		<!-- Main CSS -->
		<link rel="stylesheet" href="{% static 'assets/css/custom.css' %}">

	</head>		

	<style>
		[type="button"]:not(:disabled), [type="reset"]:not(:disabled), [type="submit"]:not(:disabled), button:not(:disabled) {
			cursor: pointer;
			background-color: #254eaa;
			/* width: 220px; */
			/* height: 60px; */
			border-radius: 10px;
		  }

		  .booking-date-list ul li {
			font-weight: 500;
			color: #494949;
			padding-bottom: 10px;
			justify-content: left;
			text-align: justify;
		  }

		  .doctor-content {
			background-color: #ffffff;
			margin: 0;
			padding: 50px 0 60px;
		}

		.paitent-header {
			padding-bottom: 20px;
		}

		  
	</style>

	<body>
   
		<!-- Main Wrapper -->
		<div class="main-wrapper w-100">
			
			<!-- Page Content -->
			<div class="doctor-content">
				<div class="container">

					<!-- Payment -->
					
					<div class="row">
						<div class="col-lg-12 col-md-12 text-center">
							
							<div class="paitent-header">
								<h4 class="booking-title">Payments Methods</h4>
							</div>
						</div>
							
						<div class="col-lg-8 col-md-12 m-auto">
							<div class="card ">
								<div class="card-body">
									<form class="text-center border border-light" action="/customer-recharge/{{razorpay_amount}}/" method="POST">
										<div class="text-center">
											{% csrf_token %}
											<div class="booking-header">
												<h4 class="booking-title">Booking Summary</h4>
											</div>
											<div class="card booking-card">
												<div class="card-body booking-card-body">
													<div class="booking-doctor-details">
														<div class="booking-doctor-left">
															
															<div class="booking-doctor-info">
																<h4><a href="doctor-profile.html">{{request.user.first_name}} {{request.user.last_name}}</a></h4>
															</div>
														</div>
														
														
													</div>
												</div>
											</div>
											<div class="card booking-card">
												<div class="card-body booking-card-body booking-list-body">
													<div class="booking-list">
														<div class="booking-date-list">
															<ul>
																<li>Booking Date: <span> {{current_date}}</span></li>
																<li>Booking Time: <span>{{current_time}}</span></li>
															</ul>
														</div>
														
													</div>
													<div class="booking-list">
														
													</div>
												</div>
											</div>
											<div class="card booking-card">
												<div class="card-body booking-card-body booking-list-body">
													<div class="booking-list">
														<div class="booking-date-list consultation-date-list">
															<ul>
																<li><span class="total-amount"></span>Recharge Amount :- <span>{{total_amount}}</span><input type="number" name="amount" id="amount" value="{{ razorpay_amount }}"></li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
										<script src="https://checkout.razorpay.com/v1/checkout.js" 
												data-key="rzp_test_Ey7h721E1o2LY1"
												data-amount="{{ razorpay_amount }}"
												data-currency="INR" 
												data-order_id= "{{ razorpay_order_id }}" 
												data-buttontext="Proceed to Pay INR {{total_amount}}"
												data-name="Professional Cipher" 
												data-description="Django and Data Science"
												data-image="https://example.com/your_logo.jpg" 
												data-prefill.name="PC" 
												data-prefill.email="pbambulkar9924@gmail.com"
												data-buttoncolor="#0000FF";
												data-theme.color="#0000FF";></script>
									</form>
								</div>
							</div>
						</div>
					</div>
					<!-- /Payment -->


					

				</div>
			</div>		
			<!-- /Page Content -->

		</div>		
		<!-- /Main Wrapper -->
	
		<!-- jQuery -->
		<script src="{% static 'assets/js/jquery-3.6.4.min.js' %}"></script>
		
		<!-- Bootstrap Bundle JS -->
		<script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>

		 <!-- Bootstrap Core JS -->
 		 <script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>
		
		<!-- Feather Icon JS -->
		<script src="{% static 'assets/js/feather.min.js' %}"></script>

		<!-- Custom JS -->
		<script src="{% static 'assets/js/script.js' %}"></script>

		<!-- Profile Settings JS (dropdown)-->
		  <script src="{% static 'assets/js/profile-settings.js' %}"></script>

		  <!-- Select2 JS (dropdown)-->
		  <script src="{% static 'assets/plugins/select2/js/select2.min.js' %}"></script>
		  
		  <!-- Dropzone JS (dropdown)-->
		  <script src="{% static 'assets/plugins/dropzone/dropzone.min.js' %}"></script>

		  <!-- Animation JS -->
    	<script src="{% static 'assets/js/aos.js' %}"></script>

    	 <!-- Owl Carousel JS -->
    	<script src="{% static 'assets/js/owl.carousel.min.js' %}"></script>

    	<!-- Slick JS -->
    	<script src="{% static 'assets/js/slick.js' %}"></script>
	
	</body>
</html>

<script>
    // Get the amount input field and the Razorpay payment button
    const amountInput = document.getElementById("amount");
    const razorpayButton = document.querySelector("script[data-key='rzp_test_Ey7h721E1o2LY1']");

    // Add an event listener to the amount input field
    amountInput.addEventListener("input", function () {
        // Get the updated amount value from the input field
        const updatedAmount = parseInt(amountInput.value);

        // Update the Razorpay payment button's data-amount attribute
        razorpayButton.setAttribute("data-amount", updatedAmount * 100);
    });
</script>
{% endblock %}